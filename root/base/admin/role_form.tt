<script type="text/javascript">
  var role_form = new MojoMojo.RoleForm({
    user_search_url: "[% c.uri_for('/.jsrpc/usersearch') %]"
  });
  role_form.setup_autocomplete('member_input');
</script>
<form class="role_form standard_form" action="" method="post">
 
 <fieldset class="fields">
  <label>
   <span>Role Name:</span>
   <input type="text" name="name" value="[% role_name %]" />
  </label>
  <label>
   <span>Active?</span>
   <input type="checkbox" name="active"[% IF active %] checked="checked"[% END %] />
  </label>
 </fieldset>

 <fieldset class="members">
  <h2>Role Members</h2>

  <label>
    <span>Search for users:</span>
    <input type="text" id="member_input" name="member_input" />
  </label>

  [% has_members = members && members.size > 0 %]
  <ul id="role_members">
  <li class="empty[% IF has_members %] hide[% END %]">No members added yet.</li>
  [% IF has_members %]
   [% FOREACH member IN members %]
   <li class="member">
    [% member.login %]
    <input type="hidden" name="role_members" value="[% member.id %]" />
    <a class="clickable" onclick="role_form.remove_member(this);">[remove]</a>
   </li>
   [% END %]
  [% END %]
  </ul>

 </fieldset>

 <fieldset class="buttons">
  <input type="submit" name="submit" value="Save" />
 </fieldset>
</form>


